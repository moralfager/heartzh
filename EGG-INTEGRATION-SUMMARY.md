# ü•ö Egg Project Integration Summary

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
–î–æ–±–∞–≤–ª–µ–Ω—ã –≤ `package.json`:
- `framer-motion` - –∞–Ω–∏–º–∞—Ü–∏–∏
- `gsap` - —Å–ª–æ–∂–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏
- `howler` + `@types/howler` - –∞—É–¥–∏–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- `zustand` - state management
- `jsonwebtoken` + `@types/jsonwebtoken` - JWT —Ç–æ–∫–µ–Ω—ã
- `bcryptjs` + `@types/bcryptjs` - —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–æ–≤
- `qrcode` + `@types/qrcode` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è QR –∫–æ–¥–æ–≤
- `@lottiefiles/react-lottie-player` - Lottie –∞–Ω–∏–º–∞—Ü–∏–∏

### 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/app/egg/
‚îú‚îÄ‚îÄ layout.tsx              # –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π layout —Å egg —à—Ä–∏—Ñ—Ç–∞–º–∏
‚îú‚îÄ‚îÄ globals.css             # Egg —Å—Ç–∏–ª–∏ (—Ä–æ–∑–æ–≤—ã–µ –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã, glass —ç—Ñ—Ñ–µ–∫—Ç—ã)
‚îú‚îÄ‚îÄ page.tsx                # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ egg
‚îú‚îÄ‚îÄ chapter/[id]/page.tsx   # –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–æ—É—Ç –≥–ª–∞–≤
‚îú‚îÄ‚îÄ map/page.tsx            # –ö–∞—Ä—Ç–∞ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è
‚îú‚îÄ‚îÄ unlock/page.tsx         # QR unlock endpoint
‚îú‚îÄ‚îÄ resume/page.tsx         # –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
‚îú‚îÄ‚îÄ _store/
‚îÇ   ‚îî‚îÄ‚îÄ progressStore.ts    # Zustand store –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
‚îú‚îÄ‚îÄ _lib/
‚îÇ   ‚îú‚îÄ‚îÄ constants.ts        # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ animations.ts       # GSAP —Ö–µ–ª–ø–µ—Ä—ã
‚îÇ   ‚îî‚îÄ‚îÄ audio.ts            # Howler audio manager
‚îî‚îÄ‚îÄ _components/
    ‚îú‚îÄ‚îÄ chapters/           # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≥–ª–∞–≤ (Chapter1-5)
    ‚îú‚îÄ‚îÄ animations/         # –ê–Ω–∏–º–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
    ‚îú‚îÄ‚îÄ ui/                 # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (HeartButton, GlassCard, etc.)
    ‚îî‚îÄ‚îÄ layout/             # Layout –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (AudioController, BackButton)

src/app/api/egg/
‚îú‚îÄ‚îÄ check-key/route.ts      # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–æ–≤ –≥–ª–∞–≤
‚îú‚îÄ‚îÄ generate-token/route.ts # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è resume —Ç–æ–∫–µ–Ω–∞
‚îú‚îÄ‚îÄ qr-generate/route.ts    # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR –∫–æ–¥–æ–≤
‚îú‚îÄ‚îÄ verify-resume/route.ts  # –í–∞–ª–∏–¥–∞—Ü–∏—è resume —Ç–æ–∫–µ–Ω–∞
‚îî‚îÄ‚îÄ verify-unlock/route.ts  # –í–∞–ª–∏–¥–∞—Ü–∏—è unlock —Ç–æ–∫–µ–Ω–∞

public/egg/
‚îú‚îÄ‚îÄ audio/                  # –ê—É–¥–∏–æ —Ñ–∞–π–ª—ã (ambient-main.mp3)
‚îú‚îÄ‚îÄ images/
‚îÇ   ‚îú‚îÄ‚îÄ comic/             # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ–º–∏–∫—Å–∞
‚îÇ   ‚îî‚îÄ‚îÄ trust/             # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–æ–≤–µ—Ä–∏—è
‚îî‚îÄ‚îÄ scene/                 # –°—Ü–µ–Ω—ã (1-6.png)
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∏–º–ø–æ—Ä—Ç—ã

–í—Å–µ –∏–º–ø–æ—Ä—Ç—ã –≤ egg —Ñ–∞–π–ª–∞—Ö –æ–±–Ω–æ–≤–ª–µ–Ω—ã:
- `@/store/` ‚Üí `@/app/egg/_store/`
- `@/lib/` ‚Üí `@/app/egg/_lib/`
- `@/components/` ‚Üí `@/app/egg/_components/`

### 4. –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –ø—É—Ç–∏

–í—Å–µ –ø—É—Ç–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ `/egg`:
- `/chapter/` ‚Üí `/egg/chapter/`
- `/map` ‚Üí `/egg/map`
- `/unlock` ‚Üí `/egg/unlock`
- `/resume` ‚Üí `/egg/resume`
- `/api/check-key` ‚Üí `/api/egg/check-key`
- `/api/generate-token` ‚Üí `/api/egg/generate-token`
- `/api/qr-generate` ‚Üí `/api/egg/qr-generate`
- `/audio/` ‚Üí `/egg/audio/`
- `/images/` ‚Üí `/egg/images/`

### 5. –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É /about

–í –∫–æ–Ω—Ü–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã `/about` –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫—Ä–∞—Å–∏–≤–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞-—Å—Å—ã–ª–∫–∞:
- **–¢–µ–∫—Å—Ç:** "–ü–æ–¥–∞—Ä–æ–∫ –¥–ª—è –ñ–∞–Ω–∏—è—Ç"
- **–û–ø–∏—Å–∞–Ω–∏–µ:** "–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∫–≤–µ—Å—Ç –∏–∑ 5 –≥–ª–∞–≤"
- **–ò–∫–æ–Ω–∫–∞:** ‚ù§Ô∏è —Å–µ—Ä–¥—Ü–µ
- **Hover —ç—Ñ—Ñ–µ–∫—Ç—ã:** –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ, –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ –≥—Ä–∞–Ω–∏—Ü—ã

### 6. –û–±–Ω–æ–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í `env.production.template` –¥–æ–±–∞–≤–ª–µ–Ω–æ:
```bash
JWT_SECRET="CHANGE_THIS_LONG_RANDOM_STRING_FOR_JWT_TOKENS"
```

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```bash
npm install
```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç—å dev —Å–µ—Ä–≤–µ—Ä:**
```bash
npm run dev
```

3. **–û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
- –ì–ª–∞–≤–Ω–∞—è egg: http://localhost:3000/egg
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ –ø—Ä–æ–µ–∫—Ç–µ: http://localhost:3000/about

### –ü—Ä–æ–¥–∞–∫—à–Ω –¥–µ–ø–ª–æ–π

1. **–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –¥–æ–±–∞–≤–∏—Ç—å JWT_SECRET –≤ `.env.production`:**
```bash
# –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–∏–ª—å–Ω—ã–π –∫–ª—é—á:
openssl rand -base64 32

# –î–æ–±–∞–≤–∏—Ç—å –≤ .env.production:
JWT_SECRET="your-generated-secret-here"
```

2. **–ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∏ –∑–∞–ø—É—à–∏—Ç—å:**
```bash
git add .
git commit -m "feat: integrate Heart of Zh.A. romantic quest"
git push origin prod
```

3. **GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç**

## üîó URL endpoints –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

- https://heartofzha.ru/egg - –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–≤–µ—Å—Ç–∞
- https://heartofzha.ru/about - –∫–Ω–æ–ø–∫–∞ "–ü–æ–¥–∞—Ä–æ–∫ –¥–ª—è –ñ–∞–Ω–∏—è—Ç"
- https://heartofzha.ru/egg/chapter/1 - –ì–ª–∞–≤–∞ 1
- https://heartofzha.ru/egg/map - –∫–∞—Ä—Ç–∞ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è
- https://heartofzha.ru/api/egg/qr-generate?format=image - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è QR –∫–æ–¥–∞

## üé® –î–∏–∑–∞–π–Ω

Egg –ø—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω:
- **–°–≤–æ–π layout** - –Ω–µ –Ω–∞—Å–ª–µ–¥—É–µ—Ç —Å—Ç–∏–ª–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
- **–°–≤–æ–∏ —à—Ä–∏—Ñ—Ç—ã** - Playfair Display, Inter, JetBrains Mono
- **–°–≤–æ—è —Ü–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞** - —Ä–æ–∑–æ–≤—ã–µ, –ª–∞–≤–∞–Ω–¥–æ–≤—ã–µ —Ç–æ–Ω–∞
- **–°–≤–æ–∏ —Å—Ç–∏–ª–∏** - glass morphism, –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã, –∞–Ω–∏–º–∞—Ü–∏–∏

## üìù –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–ò–∑–æ–ª—è—Ü–∏—è** - Egg –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –æ—Ç –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ psychotest
2. **–ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤** - —Å—Ç–∏–ª–∏ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ –ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç—Å—è
3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - –≤—Å–µ egg —Ñ–∞–π–ª—ã –±—É–¥—É—Ç –≤–∫–ª—é—á–µ–Ω—ã –≤ Docker –æ–±—Ä–∞–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - JWT —Ç–æ–∫–µ–Ω—ã —Ç—Ä–µ–±—É—é—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ JWT_SECRET –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
- [ ] `/egg` –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
- [ ] `/about` —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–Ω–æ–ø–∫—É "–ü–æ–¥–∞—Ä–æ–∫ –¥–ª—è –ñ–∞–Ω–∏—è—Ç"
- [ ] –ö–ª–∏–∫ –ø–æ –∫–Ω–æ–ø–∫–µ –≤–µ–¥—ë—Ç –Ω–∞ `/egg`
- [ ] –ê—É–¥–∏–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É –≥–ª–∞–≤–∞–º–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] QR –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç: `/api/egg/qr-generate?format=image`
- [ ] Resume —Ç–æ–∫–µ–Ω—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è
- [ ] –°—Ç–∏–ª–∏ egg –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∞–π—Ç

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü—Ä–æ–µ–∫—Ç egg —É—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫–∞–∫ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–æ—É—Ç `/egg`.

