# üó∫Ô∏è –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ —Ä–∞–∑–≤–∏—Ç–∏—è –ø—Ä–æ–µ–∫—Ç–∞

## üéØ –¶–µ–ª–∏ –∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:
- ‚úÖ **–ê–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ **–≤—Ä–µ–º–µ–Ω–Ω–æ–π —Å–µ—Å—Å–∏–∏** –∏ –¥–æ—Å—Ç—É–ø–Ω—ã **‚â§ 24 —á–∞—Å–æ–≤**
- ‚úÖ **–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å**: —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤–∏–¥–Ω—ã —Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª—å—Ü—É —Å–µ—Å—Å–∏–∏; –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ ‚Äî –ø–æ–ª–Ω–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏/–∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- ‚úÖ **–†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å**: —Ç–µ—Å—Ç—ã, –≤–æ–ø—Ä–æ—Å—ã, —à–∫–∞–ª—ã –∏ –ª–æ–≥–∏–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∏–∑ **–∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏** (–Ω–µ JSON-—Ñ–∞–π–ª–∞–º–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)
- ‚úÖ **–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å**: —á—ë—Ç–∫–∏–π –ø–∞–π–ø–ª–∞–π–Ω –º–∏–≥—Ä–∞—Ü–∏–π, —Ç–µ—Å—Ç–æ–≤ –∏ –¥–µ–ø–ª–æ—è

### –ß—Ç–æ –ù–ï –≤–∫–ª—é—á–∞–µ–º:
- ‚ùå PWA –∏ offline —Ä–µ–∂–∏–º
- ‚ùå Auth/Users (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–ª–æ–≥–∏–Ω)
- ‚ùå –í–Ω–µ—à–Ω–∏–π REST API/Webhooks
- ‚ùå –≠–∫—Å–ø–æ—Ä—Ç PDF/CSV

---

## üìã Milestone 1 ‚Äî –î–∞–Ω–Ω—ã–µ –∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å (üî• –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

**–¶–µ–ª—å**: –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ —Ç–µ—Å—Ç—ã –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –±–∞–∑—É, –≤–∫–ª—é—á–∏—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫—É.

### –ó–∞–¥–∞—á–∏:

#### 1.1 Prisma / MySQL —Å—Ö–µ–º–∞ (–º–∏–≥—Ä–∞—Ü–∏–∏)
**–í–µ—Ç–∫–∞:** `feature/db-core-privacy`

**–¢–∞–±–ª–∏—Ü—ã:**
```prisma
model Test {
  id        String   @id @default(cuid())
  slug      String   @unique
  title     String
  version   Int      @default(1)
  published Boolean  @default(false)
  questions Question[]
  scales    Scale[]
  rules     Rule[]
  results   Result[]
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  
  @@unique([slug, version])
  @@index([slug])
  @@index([published])
}

model Question {
  id        String   @id @default(cuid())
  testId    String
  order     Int
  text      String   @db.Text
  type      String   // single | multi | scale | likert
  options   AnswerOption[]
  test      Test     @relation(fields: [testId], references: [id], onDelete: Cascade)
  
  @@index([testId, order])
}

model AnswerOption {
  id         String   @id @default(cuid())
  questionId String
  text       String   @db.Text
  value      Int
  weights    Json?    // {[scaleId]: weight}
  question   Question @relation(fields: [questionId], references: [id], onDelete: Cascade)
  
  @@index([questionId])
}

model Scale {
  id        String  @id @default(cuid())
  testId    String
  key       String  // O, C, E, A, N –¥–ª—è Big5
  name      String
  min       Int
  max       Int
  bands     Json?   // [{to: number, label: string}]
  test      Test    @relation(fields: [testId], references: [id], onDelete: Cascade)
  
  @@unique([testId, key])
  @@index([testId])
}

model Rule {
  id        String  @id @default(cuid())
  testId    String
  kind      String  // threshold | combo | formula
  payload   Json    // DSL –ø—Ä–∞–≤–∏–ª
  test      Test    @relation(fields: [testId], references: [id], onDelete: Cascade)
  
  @@index([testId])
}

model Session {
  id        String   @id @default(cuid()) // sessionId –∏–∑ cookie
  createdAt DateTime @default(now())
  expiresAt DateTime
  results   Result[]
  
  @@index([expiresAt])
}

model Result {
  id        String   @id @default(cuid())
  testId    String
  sessionId String
  version   Int
  summary   Json     // –∞–≥—Ä–µ–≥–∞—Ç—ã –ø–æ —à–∫–∞–ª–∞–º, —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ —è—Ä–ª—ã–∫–∏
  details   ResultDetail?
  createdAt DateTime @default(now())
  session   Session  @relation(fields: [sessionId], references: [id], onDelete: Cascade)
  test      Test     @relation(fields: [testId], references: [id])
  
  @@index([sessionId])
  @@index([testId])
  @@index([createdAt])
}

model ResultDetail {
  id        String  @id @default(cuid())
  resultId  String  @unique
  details   Json    // –ø–æ-–≤–æ–ø—Ä–æ—Å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –∞—É–¥–∏—Ç —Ä–∞—Å—á—ë—Ç–∞
  result    Result  @relation(fields: [resultId], references: [id], onDelete: Cascade)
}

model ImportJob {
  id          String   @id @default(cuid())
  externalId  String
  contentHash String
  appliedAt   DateTime @default(now())
  testId      String?
  status      String   // applied | skipped | failed
  
  @@unique([externalId, contentHash])
  @@index([externalId])
}
```

**–§–∞–π–ª—ã:**
- `prisma/schema.prisma` - —Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `prisma/migrations/` - –º–∏–≥—Ä–∞—Ü–∏–∏
- `src/lib/db.ts` - Prisma client + helpers

#### 1.2 –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏
**–§–∞–π–ª—ã:**
- `src/lib/session.ts` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è/–≤–∞–ª–∏–¥–∞—Ü–∏—è sessionId

**–õ–æ–≥–∏–∫–∞:**
```typescript
// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è sessionId (secure cookie)
- HttpOnly: true
- SameSite: 'Lax' (dev) / 'Strict' (prod)
- Secure: true (prod)
- MaxAge: 24 —á–∞—Å–∞

// TTL —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤: 24 —á–∞—Å–∞ (–∫–æ–Ω—Ñ–∏–≥ –ø–æ env)
- RESULT_TTL_HOURS=24
- SESSION_COOKIE_NAME=hoz_sid
```

#### 1.3 –ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞
**–§–∞–π–ª—ã:**
- `src/lib/cleanup-cron.ts` - cron –∑–∞–¥–∞—á–∞

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```typescript
// –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π —Å—Ç–∞—Ä—à–µ TTL:
- Session + –∫–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ Result/ResultDetail
- –ó–∞–ø—É—Å–∫: –∫–∞–∂–¥—ã–π —á–∞—Å –∏–ª–∏ —á–µ—Ä–µ–∑ Vercel Cron
```

#### 1.4 –ú–∏–≥—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ –∏–∑ JSON ‚Üí –ë–î
**–§–∞–π–ª—ã:**
- `scripts/import-tests.ts` - –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π –∏–º–ø–æ—Ä—Ç—ë—Ä
- –í–∞–ª–∏–¥–∞—Ü–∏—è —á–µ—Ä–µ–∑ Zod
- Idempotency —á–µ—Ä–µ–∑ —Ö—ç—à —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ

#### 1.5 API —É—Ä–æ–≤–Ω—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
**–§–∞–π–ª—ã:**
- `src/app/api/internal/results/route.ts` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- `src/app/api/internal/session/route.ts` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–µ–π

**Endpoints:**
```typescript
POST /api/internal/results
  - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏
  
GET /api/internal/results/current
  - –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ sessionId
  
GET /api/internal/session/active
  - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—É—é —Å–µ—Å—Å–∏—é
```

### ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏:
- [ ] –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ —á–∏—Ç–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤ –æ–¥–Ω–æ–π —Å–µ—Å—Å–∏–∏
- [ ] –ü–æ—Å–ª–µ TTL —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã —Å –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —Å—Ç–æ—Ä–æ–Ω—ã
- [ ] –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ —Ä–µ–∞–ª—å–Ω–æ —É–¥–∞–ª—è—é—Ç—Å—è –ø–æ –∫—Ä–æ–Ω—É
- [ ] –ò–º–ø–æ—Ä—Ç JSON ‚Üí –ë–î —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–°—Ä–æ–∫:** 2-3 –Ω–µ–¥–µ–ª–∏  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî•üî•üî• –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π

---

## üìã Milestone 2 ‚Äî –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å: –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π CRUD (üî• –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

**–¶–µ–ª—å**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞–º–∏ –∏–∑ –ë–î –±–µ–∑ –ø—Ä–∞–≤–∫–∏ JSON.

### –ó–∞–¥–∞—á–∏:

#### 2.1 CRUD –¥–ª—è —Å—É—â–Ω–æ—Å—Ç–µ–π
**–í–µ—Ç–∫–∞:** `feature/admin-crud`

**–§–∞–π–ª—ã:**
- `src/app/admin/tests/*` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞–º–∏
- `src/app/admin/questions/*` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞–º–∏
- `src/app/admin/scales/*` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —à–∫–∞–ª–∞–º–∏
- `src/app/admin/rules/*` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª–∞–º–∏

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- **Test**: —Å–æ–∑–¥–∞–Ω–∏–µ/–∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ, slug, –≤–µ—Ä—Å–∏—è —Ç–µ—Å—Ç–∞
- **Question**: –ø–æ—Ä—è–¥–æ–∫, —Ç–µ–∫—Å—Ç, —Ç–∏–ø (single/multi/scale/likert)
- **AnswerOption**: —Ç–µ–∫—Å—Ç, –∑–Ω–∞—á–µ–Ω–∏–µ, –≤–µ—Å–∞ –ø–æ —à–∫–∞–ª–∞–º
- **Scale**: –Ω–∞–∑–≤–∞–Ω–∏–µ —à–∫–∞–ª—ã, –æ–ø–∏—Å–∞–Ω–∏–µ, min/max, –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏
- **Rule**: –ø—Ä–∞–≤–∏–ª–∞ —Ä–∞—Å—á—ë—Ç–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

#### 2.2 –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
**–õ–æ–≥–∏–∫–∞:**
- –ü–æ–ª–µ `version` —É `Test` + immutable snapshot –ø—Ä–∞–≤–∏–ª –¥–ª—è —Ä–∞—Å—á—ë—Ç–æ–≤
- –ó–∞–ø—Ä–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏
- –ò–∑–º–µ–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ –≤—ã–ø—É—Å–∫ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏

#### 2.3 UX –∞–¥–º–∏–Ω–∫–∏
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- –¢–∞–±–ª–∏—á–Ω—ã–µ —Å–ø–∏—Å–∫–∏ —Å –ø–æ–∏—Å–∫–æ–º/—Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- Drag&drop —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –≤–æ–ø—Ä–æ—Å–æ–≤
- –§–æ—Ä–º—ã —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π (Zod/Yup)
- –ü—Ä–µ–≤—å—é –ª–æ–≥–∏–∫–∏ —Ä–∞—Å—á—ë—Ç–∞

#### 2.4 –ò–º–ø–æ—Ä—Ç —Ç–µ—Å—Ç–æ–≤ –∏–∑ JSON –ø–æ —à–∞–±–ª–æ–Ω—É
**–§–∞–π–ª—ã:**
- `src/app/admin/tests/import/page.tsx` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–º–ø–æ—Ä—Ç–∞
- `src/lib/test-importer.ts` - –ª–æ–≥–∏–∫–∞ –∏–º–ø–æ—Ä—Ç–∞
- `src/lib/schemas/import-template.ts` - Zod —Å—Ö–µ–º—ã

**–§–æ—Ä–º–∞—Ç JSON:**
```json
{
  "meta": {
    "templateVersion": 1,
    "externalId": "big5_ru_v1",
    "slug": "big5",
    "title": "–ë–æ–ª—å—à–∞—è –ü—è—Ç—ë—Ä–∫–∞",
    "version": 1,
    "published": false
  },
  "scales": [
    {
      "key": "O",
      "name": "–û—Ç–∫—Ä—ã—Ç–æ—Å—Ç—å –æ–ø—ã—Ç—É",
      "min": 0,
      "max": 50,
      "bands": [
        {"to": 16, "label": "low"},
        {"to": 34, "label": "mid"},
        {"to": 50, "label": "high"}
      ]
    }
  ],
  "questions": [
    {
      "order": 1,
      "text": "–ú–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è –ø—Ä–æ–±–æ–≤–∞—Ç—å –Ω–æ–≤–æ–µ",
      "type": "likert",
      "options": [
        {
          "text": "–°–æ–≤—Å–µ–º –Ω–µ –ø—Ä–æ –º–µ–Ω—è",
          "value": 0,
          "weights": {"O": 0}
        }
      ]
    }
  ],
  "rules": [
    {
      "kind": "threshold",
      "payload": {
        "scaleKey": "O",
        "ranges": [
          {"to": 16, "label": "–ù–∏–∑–∫–∞—è"},
          {"to": 34, "label": "–°—Ä–µ–¥–Ω—è—è"},
          {"to": 50, "label": "–í—ã—Å–æ–∫–∞—è"}
        ]
      }
    }
  ]
}
```

**–ü–æ—Ç–æ–∫ –∏–º–ø–æ—Ä—Ç–∞:**
1. –ê–¥–º–∏–Ω –∑–∞–≥—Ä—É–∂–∞–µ—Ç JSON —Ñ–∞–π–ª
2. –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ö–µ–º—ã (Zod)
3. Dry-run –ø—Ä–µ–≤—å—é (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ (externalId + contentHash)
5. –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è: —Å–æ–∑–¥–∞–Ω–∏–µ Test ‚Üí Scales ‚Üí Questions ‚Üí Options ‚Üí Rules
6. –í–æ–∑–≤—Ä–∞—Ç —Å–≤–æ–¥–∫–∏

**Endpoints:**
- `POST /api/admin/tests/import?dryRun=1` - –ø—Ä–µ–≤—å—é –∏–º–ø–æ—Ä—Ç–∞
- `POST /api/admin/tests/import` - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–∞

### ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏:
- [ ] –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª CRUD –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –ò–∑–º–µ–Ω–µ–Ω–∏—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –æ—Ç—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ
- [ ] –£–¥–æ–±–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤/–≤–∞—Ä–∏–∞–Ω—Ç–æ–≤/–ø—Ä–∞–≤–∏–ª
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ò–º–ø–æ—Ä—Ç JSON —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é

**–°—Ä–æ–∫:** 2-3 –Ω–µ–¥–µ–ª–∏  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî•üî•üî• –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π

---

## üìã Milestone 3 ‚Äî –õ–æ–≥–∏–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (üî• –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

**–¶–µ–ª—å**: –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø—Å–∏—Ö–æ–ª–æ–≥–æ-–ª–æ–≥–∏—á–µ—Å–∫–∞—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤.

### –ó–∞–¥–∞—á–∏:

#### 3.1 –°–µ—Ä–≤–∏—Å —Ä–∞—Å—á—ë—Ç–∞
**–í–µ—Ç–∫–∞:** `feature/result-engine`

**–§–∞–π–ª—ã:**
- `src/lib/result-engine/engine.ts` - –¥–≤–∏–∂–æ–∫ —Ä–∞—Å—á—ë—Ç–∞
- `src/lib/result-engine/rules-dsl.ts` - DSL –ø—Ä–∞–≤–∏–ª
- `src/lib/result-engine/validators.ts` - –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```typescript
// –ß–∏—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è
function computeResult(
  test: Test,
  answers: Answer[],
  version: number
): ResultSummary {
  // 1. –ê–≥—Ä–µ–≥–∞—Ü–∏—è –ø–æ —à–∫–∞–ª–∞–º
  // 2. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª (threshold/formula/combo)
  // 3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–π
  // 4. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
  return {
    scales: {...},
    labels: {...},
    recommendations: [...]
  };
}
```

#### 3.2 –ú–æ–¥–µ–ª—å –ø—Ä–∞–≤–∏–ª
**DSL –ø—Ä–∞–≤–∏–ª:**

1. **Threshold** (–ø–æ—Ä–æ–≥–æ–≤—ã–µ –∑–æ–Ω—ã):
```json
{
  "kind": "threshold",
  "payload": {
    "scaleKey": "O",
    "ranges": [
      {"to": 16, "label": "low"},
      {"to": 34, "label": "mid"},
      {"to": 50, "label": "high"}
    ]
  }
}
```

2. **Formula** (—Ñ–æ—Ä–º—É–ª—ã):
```json
{
  "kind": "formula",
  "payload": {
    "expr": "(O * 0.6) + (C * 0.4)"
  }
}
```

3. **Combo** (–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏):
```json
{
  "kind": "combo",
  "payload": {
    "when": [{"cond": "O=high"}, {"cond": "C=low"}],
    "label": "–¢–≤–æ—Ä—á–µ—Å–∫–∏–π —Ö–∞–æ—Å"
  }
}
```

#### 3.3 –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
**–§–∞–π–ª—ã:**
- `src/lib/result-engine/__tests__/` - unit —Ç–µ—Å—Ç—ã

**–¢–µ—Å—Ç—ã:**
- –≠—Ç–∞–ª–æ–Ω–Ω—ã–µ –Ω–∞–±–æ—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤ ‚Üí –æ–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- –ó–∞—â–∏—Ç–∞ –æ—Ç –Ω–µ–ø–æ–ª–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
- –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –æ—Ç–ø—Ä–∞–≤–æ–∫
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏:
- [ ] –î–ª—è –Ω–∞–±–æ—Ä–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å –æ–∂–∏–¥–∞–µ–º—ã–º–∏
- [ ] –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª –≤ –∞–¥–º–∏–Ω–∫–µ –º–µ–Ω—è–µ—Ç –∏—Ç–æ–≥–æ–≤—ã–µ –≤—ã–≤–æ–¥—ã —Ç–æ–ª—å–∫–æ –≤ –Ω–æ–≤—ã—Ö –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è—Ö
- [ ] Unit —Ç–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –≤—Å–µ —Ç–∏–ø—ã –ø—Ä–∞–≤–∏–ª
- [ ] –ê—É–¥–∏—Ç –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç

**–°—Ä–æ–∫:** 2-3 –Ω–µ–¥–µ–ª–∏  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî•üî•üî• –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π

---

## üìã Milestone 4 ‚Äî UX –¥–ª—è –∞–Ω–æ–Ω–∏–º–Ω–æ–π —Å–µ—Å—Å–∏–∏ (üü¢ –°—Ä–µ–¥–Ω–∏–π)

**–¶–µ–ª—å**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–º—Ñ–æ—Ä—Ç –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.

### –ó–∞–¥–∞—á–∏:

#### 4.1 –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–µ—Å—Å–∏–∏
**–í–µ—Ç–∫–∞:** `feature/session-ux`

**–§–∞–π–ª—ã:**
- `src/app/page.tsx` - –∫–Ω–æ–ø–∫–∞ "–ú–æ–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã"
- `src/app/tests/[slug]/page.tsx` - –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞
- `src/app/tests/[slug]/results/page.tsx` - –ø—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- `src/components/SessionIndicator.tsx` - –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–µ—Å—Å–∏–∏

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ö–Ω–æ–ø–∫–∞ ¬´–ú–æ–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã¬ª –Ω–∞ –≥–ª–∞–≤–Ω–æ–π (–µ—Å–ª–∏ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω–∞—è —Å–µ—Å—Å–∏—è)
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è (sessionStorage + server sync)
- –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É –≤–æ–ø—Ä–æ—Å–∞–º–∏
- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
- –¢–∞–π–º–µ—Ä TTL —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

#### 4.2 –≠—Ä–≥–æ–Ω–æ–º–∏–∫–∞
- –ê–Ω–∏–º–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è –≤—Å–µ—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –≤—ã—Ö–æ–¥–æ–º (–µ—Å–ª–∏ –µ—Å—Ç—å –Ω–µ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã)

### ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏:
- [ ] –ü–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å—Ä–∞–∑—É
- [ ] –ú–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤
- [ ] –ü—Ä–æ–≥—Ä–µ—Å—Å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- [ ] –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç

**–°—Ä–æ–∫:** 1-2 –Ω–µ–¥–µ–ª–∏  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ –°—Ä–µ–¥–Ω–∏–π

---

## üìã Milestone 5 ‚Äî –ú–∏–Ω–∏-–∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –≤ –∞–¥–º–∏–Ω–∫–µ (üü¢ –°—Ä–µ–¥–Ω–∏–π)

**–¶–µ–ª—å**: –ë–∞–∑–æ–≤–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π.

### –ó–∞–¥–∞—á–∏:

#### 5.1 –î–∞—à–±–æ—Ä–¥ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
**–í–µ—Ç–∫–∞:** `feature/admin-mini-analytics`

**–§–∞–π–ª—ã:**
- `src/app/admin/analytics/page.tsx` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- `src/lib/analytics.ts` - –∞–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- `src/components/admin/Charts.tsx` - –≥—Ä–∞—Ñ–∏–∫–∏

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ü—Ä–æ—Å—Ç—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ –ø–æ —à–∫–∞–ª–∞–º (bar/pie charts)
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –≤–µ—Ä—Å–∏—è–º —Ç–µ—Å—Ç–æ–≤
- –§–∏–ª—å—Ç—Ä—ã –ø–æ –¥–∞—Ç–∞–º –∏ –≤–µ—Ä—Å–∏—è–º
- –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–π, —Å—Ä–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è)

**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏:**
- Recharts –∏–ª–∏ Chart.js –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤

#### 5.2 –ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å
- –¢–æ–ª—å–∫–æ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–±–µ–∑ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤)
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –≤—ã–±–æ—Ä–∫–∏ –¥–ª—è –ø–æ–∫–∞–∑–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ‚â•10 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤)

### ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏:
- [ ] –ì—Ä–∞—Ñ–∏–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç—Ä–∞–∂–∞—é—Ç –∞–≥—Ä–µ–≥–∞—Ç—ã
- [ ] –ù–µ –Ω–∞—Ä—É—à–∞–µ—Ç—Å—è –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å (–∞–≥—Ä–µ–≥–∞—Ü–∏—è –±–µ–∑ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö)
- [ ] –§–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ –±—ã—Å—Ç—Ä–∞—è (–∏–Ω–¥–µ–∫—Å—ã –≤ –ë–î)

**–°—Ä–æ–∫:** 1-2 –Ω–µ–¥–µ–ª–∏  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ –°—Ä–µ–¥–Ω–∏–π

---

## üîß Environment –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

```env
# Database
DATABASE_URL="mysql://user:password@localhost:3306/psychotest"

# Session
RESULT_TTL_HOURS=24
SESSION_COOKIE_NAME=hoz_sid
SESSION_COOKIE_SAMESITE=Lax
SESSION_COOKIE_SECURE=true

# Admin
ADMIN_USERNAME=admin
ADMIN_PASSWORD=secure_password

# Cleanup
CLEANUP_CRON_SCHEDULE="0 * * * *"  # –∫–∞–∂–¥—ã–π —á–∞—Å
```

---

## üîÑ Git Workflow

### –¶–∏–∫–ª feature-–≤–µ—Ç–∫–∏:
```bash
# 1. –°–æ–∑–¥–∞—Ç—å feature –≤–µ—Ç–∫—É
git checkout dev
git pull origin dev
git checkout -b feature/<name>

# 2. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ + —Ç–µ—Å—Ç—ã
npm run lint
npm run build
npm run test

# 3. –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
docker-compose -f docker-compose.prod.yml up --build

# 4. –ö–æ–º–º–∏—Ç
git add .
git commit -m "feat(<name>): –æ–ø–∏—Å–∞–Ω–∏–µ"
git push origin feature/<name>

# 5. –°–ª–∏—Ç—å –≤ dev
git checkout dev
git merge --no-ff feature/<name>
git push origin dev

# 6. –£–¥–∞–ª–∏—Ç—å feature –≤–µ—Ç–∫—É
git branch -d feature/<name>
git push origin --delete feature/<name>

# 7. –ö–æ–≥–¥–∞ dev —Å—Ç–∞–±–∏–ª—å–Ω–∞ ‚Üí main
git checkout main
git merge dev
git push origin main

# 8. –î–µ–ø–ª–æ–π –≤ prod
git checkout prod
git merge main
git push origin prod  # üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π!
```

---

## üìä –ü–æ—Ä—è–¥–æ–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –§–∞–∑–∞ 1 (–ú–µ—Å—è—Ü 1-2): Foundation
```
Week 1-2: Milestone 1 (–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö + —Å–µ—Å—Å–∏–∏)
Week 3-4: Milestone 2 (–ê–¥–º–∏–Ω CRUD)
Week 5-6: Milestone 3 (–î–≤–∏–∂–æ–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤)
```

### –§–∞–∑–∞ 2 (–ú–µ—Å—è—Ü 3): Polish
```
Week 7-8: Milestone 4 (UX —Å–µ—Å—Å–∏–π)
Week 9-10: Milestone 5 (–ê–Ω–∞–ª–∏—Ç–∏–∫–∞)
Week 11-12: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –±–∞–≥—Ñ–∏–∫—Å—ã, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Unit —Ç–µ—Å—Ç—ã:
- –î–≤–∏–∂–æ–∫ –ø—Ä–∞–≤–∏–ª
- –ü–∞—Ä—Å–µ—Ä —Ñ–æ—Ä–º—É–ª
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –†–∞—Å—á—ë—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### Integration —Ç–µ—Å—Ç—ã:
- –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞ ‚Üí —Ä–∞—Å—á—ë—Ç ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ ‚Üí —á—Ç–µ–Ω–∏–µ
- –ò–º–ø–æ—Ä—Ç JSON ‚Üí —Å–æ–∑–¥–∞–Ω–∏–µ –≤ –ë–î
- –û—á–∏—Å—Ç–∫–∞ –ø–æ TTL

### E2E —Ç–µ—Å—Ç—ã (Cypress/Playwright):
- –°—Ü–µ–Ω–∞—Ä–∏–π "–ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç"
- –°—Ü–µ–Ω–∞—Ä–∏–π "–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º"
- –°—Ü–µ–Ω–∞—Ä–∏–π "–ò—Å—Ç—ë–∫ TTL"
- –ê–¥–º–∏–Ω CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
prisma/
  schema.prisma                         # –°—Ö–µ–º–∞ –ë–î
  migrations/                           # –ú–∏–≥—Ä–∞—Ü–∏–∏

src/
  lib/
    db.ts                               # Prisma client
    session.ts                          # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏
    cleanup-cron.ts                     # –û—á–∏—Å—Ç–∫–∞ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
    test-importer.ts                    # –ò–º–ø–æ—Ä—Ç JSON ‚Üí –ë–î
    result-engine/
      engine.ts                         # –î–≤–∏–∂–æ–∫ —Ä–∞—Å—á—ë—Ç–∞
      rules-dsl.ts                      # DSL –ø—Ä–∞–≤–∏–ª
      validators.ts                     # –í–∞–ª–∏–¥–∞—Ç–æ—Ä—ã
      __tests__/                        # Unit —Ç–µ—Å—Ç—ã
    schemas/
      import-template.ts                # Zod —Å—Ö–µ–º—ã –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞
    analytics.ts                        # –ê–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

  app/
    api/
      internal/
        results/route.ts                # API —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        session/route.ts                # API —Å–µ—Å—Å–∏–π
      admin/
        tests/
          import/route.ts               # –ò–º–ø–æ—Ä—Ç —Ç–µ—Å—Ç–æ–≤
    
    tests/
      [slug]/
        page.tsx                        # –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞
        results/page.tsx                # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
    
    admin/
      tests/*                           # CRUD —Ç–µ—Å—Ç–æ–≤
      questions/*                       # CRUD –≤–æ–ø—Ä–æ—Å–æ–≤
      scales/*                          # CRUD —à–∫–∞–ª
      rules/*                           # CRUD –ø—Ä–∞–≤–∏–ª
      analytics/page.tsx                # –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
      import/page.tsx                   # –ò–º–ø–æ—Ä—Ç —Ç–µ—Å—Ç–æ–≤
    
    page.tsx                            # –ì–ª–∞–≤–Ω–∞—è + "–ú–æ–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã"

  components/
    SessionIndicator.tsx                # –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–µ—Å—Å–∏–∏
    admin/
      Charts.tsx                        # –ì—Ä–∞—Ñ–∏–∫–∏
      TestForm.tsx                      # –§–æ—Ä–º—ã —Ç–µ—Å—Ç–æ–≤
      QuestionEditor.tsx                # –†–µ–¥–∞–∫—Ç–æ—Ä –≤–æ–ø—Ä–æ—Å–æ–≤

scripts/
  import-tests.ts                       # –°–∫—Ä–∏–ø—Ç –∏–º–ø–æ—Ä—Ç–∞
```

---

## üéØ –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

### Milestone 1:
- [ ] 100% —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î
- [ ] 0 —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏ (—Å—Ç–∞—Ä—ã–µ —Å–µ—Å—Å–∏–∏ —É–¥–∞–ª—è—é—Ç—Å—è)
- [ ] –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API < 200ms

### Milestone 2:
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞ < 5 –º–∏–Ω—É—Ç
- [ ] –ò–º–ø–æ—Ä—Ç JSON < 10 —Å–µ–∫—É–Ω–¥
- [ ] 0 –±–∞–≥–æ–≤ –ø—Ä–∏ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏

### Milestone 3:
- [ ] 100% —Ç–æ—á–Ω–æ—Å—Ç—å –Ω–∞ —ç—Ç–∞–ª–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–∞—Ö
- [ ] –í—Ä–µ–º—è —Ä–∞—Å—á—ë—Ç–∞ < 100ms
- [ ] 90%+ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

### Milestone 4:
- [ ] 95%+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∑–∞–≤–µ—Ä—à–∞—é—Ç —Ç–µ—Å—Ç
- [ ] –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã < 2s
- [ ] 0 –ø–æ—Ç–µ—Ä—å –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

### Milestone 5:
- [ ] –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞—à–±–æ—Ä–¥–∞ < 1s
- [ ] 100% —Å–æ–±–ª—é–¥–µ–Ω–∏–µ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏

---

**üöÄ Roadmap –≥–æ—Ç–æ–≤! –ù–∞—á–∏–Ω–∞–µ–º —Å Milestone 1!**

